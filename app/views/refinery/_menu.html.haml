- # Collect the root items.
- # ::Refinery::Menu is smart enough to remember all of the items in the original collection.
%ul.nav.nav-list
  - if (roots = local_assigns[:roots] || (collection ||= refinery_menu_pages).roots).present?
    - dom_id ||= 'menu'
    - hide_children = Refinery::Core.menu_hide_children if hide_children.nil?
    - locals = { hide_children: hide_children, sibling_count: (roots.length - 1), menu_levels: local_assigns[:menu_levels], apply_css: true }
    %li.nav-header Menu
    = render partial: '/refinery/menu_branch', collection: roots, locals: locals
  %li.nav-header Locale
  - Refinery::I18n.frontend_locales.each do |locale|
    - name = Refinery::I18n.locales[locale]
    %li
      = link_to name, refinery.root_path({ locale: locale })
